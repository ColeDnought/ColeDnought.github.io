(()=>{"use strict";var e={512:(e,t,s)=>{var o=s(582);const r="Xenova/distilgpt2";var a=null,i=null;self.addEventListener("message",(async e=>{a&&i||(a=await o.rKH.from_pretrained(r,{quantized:!0,dtype:"fp16",model_file_name:"decoder_model",progress_callback:e=>{self.postMessage(e)}}),i=await o.v6I.from_pretrained(r,{quantized:!0}),a.generation_config.output_scores=!0,self.postMessage({status:"ready"}));const t=await i(e.data.text,{add_special_tokens:!0}),s=await a(t);self.postMessage({status:"update",token:i.decode([t.input_ids[0].ort_tensor.cpuData[0]]),prob:1/i.vocab_size,prob_sum:.5,best:" "});for(let r=0;r<s.logits.dims[1]-1;r++){const e=t.input_ids[0].ort_tensor.cpuData[r+1],a=i.decode([e]),n=(0,o.Vs9)(s.logits[0][r].ort_tensor.cpuData),l=n[e],p=n.reduce(((e,t)=>t<=l?e+t:e),0),d=s.logits[0][r].max().item(),u=s.logits[0][r].indexOf(d),c=i.decode([u]);self.postMessage({status:"update",token:a,prob:l,prob_sum:p,best:c})}self.postMessage({status:"complete"})}))}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,s),a.exports}s.m=e,s.x=()=>{var e=s.O(void 0,[582],(()=>s(512)));return e=s.O(e)},(()=>{var e=[];s.O=(t,o,r,a)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],a=e[d][2];for(var n=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(s.O).every((e=>s.O[e](o[l])))?o.splice(l--,1):(n=!1,a<i&&(i=a));if(n){e.splice(d--,1);var p=r();void 0!==p&&(t=p)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,r,a]}})(),s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,o)=>(s.f[o](e,t),t)),[])),s.u=e=>"static/js/"+e+".be6a602e.chunk.js",s.miniCssF=e=>{},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/logitlens/",(()=>{s.b=self.location+"/../../../";var e={512:1};s.f.i=(t,o)=>{e[t]||importScripts(s.p+s.u(t))};var t=self.webpackChunklogitlens=self.webpackChunklogitlens||[],o=t.push.bind(t);t.push=t=>{var r=t[0],a=t[1],i=t[2];for(var n in a)s.o(a,n)&&(s.m[n]=a[n]);for(i&&i(s);r.length;)e[r.pop()]=1;o(t)}})(),(()=>{var e=s.x;s.x=()=>s.e(582).then(e)})();s.x()})();
//# sourceMappingURL=512.0df12502.chunk.js.map